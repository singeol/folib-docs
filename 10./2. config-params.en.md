# Configuration Parameters — Detailed Guide

## Environment variables

> The table below lists supported environment variables, their defaults, and what they control.

| Variable | Default | Description |
|---|---|---|
| `FOLIB_HTTP_PORT` | — | HTTP port |
| `FOLIB_SSL_ENABLED` | `false` | Enable SSL |
| `FOLIB_SSL_KEY_STORE` | — | SSL keystore path |
| `FOLIB_SSL_KEY_STORE_TYPE` | — | SSL keystore type |
| `FOLIB_SSL_KEY_STORE_PASSWORD` | — | SSL keystore password |
| `FOLIB_SSL_KEY_ALIAS` | — | SSL key alias |
| `FOLIB_SSL_KEY_PASSWORD` | — | SSL key password |
| `FOLIB_SSL_TRUST_STORE` | — | SSL truststore path |
| `FOLIB_SSL_TRUST_STORE_PASSWORD` | — | SSL truststore password |
| `FOLIB_SSL_TRUST_STORE_TYPE` | — | SSL truststore type |
| `FOLIB_ARTIFACT_DOWNLOAD_IMMEDIATELY_UPDATE` | `false` | Immediately update artifact metadata on download |
| `FOLIB_DOCKER_BROWSE_COMPATIBILITY` | `false` | Docker “browse” compatibility mode |
| `FOLIB_CLUSTER_OPENFLAG` | `false` | Enable cluster mode |
| `FOLIB_DISTRIBUTED_LOCKIP` | `127.0.0.1` | Local (non‑VIP) IP of this node to tag instance in cluster |
| `FOLIB_STORAGE_BASE_DIR` | `$FOLIB_DEFAULT_VAULT` | Base storage directory (use another path if NAS is outside VAULT) |
| `FOLIB_HOME` | `$FOLIB_DEFAULT_HOME` | Folib home directory |
| `FOLIB_VAULT` | `$FOLIB_DEFAULT_VAULT` | Folib data directory |
| `FOLIB_PID_FILE` | `$FOLIB_VAULT/folib.pid` | Process PID file path |
| `FOLIB_JVM_XMX` | `4096m` | JVM maximum heap |
| `FOLIB_JVM_XMS` | `4096m` | JVM initial heap |
| `FOLIB_JVM_XSS` | `256k` | JVM thread stack size |
| `FOLIB_JVM_PARALLEL_GC_THREADS` | `8` | Parallel GC threads |
| `FOLIB_JVM_MAX_DIRECT_MEMORY_SIZE` | `2048m` | JVM max direct memory |
| `FOLIB_PORT` | `38080` | Folib application port |
| `FOLIB_DB_PROFILE` | `db_EMBEDDED` | Database profile |
| `FOLIB_GREMLIN_SERVER_ENABLED` | `false` | Enable Gremlin Server |
| `FOLIB_LOG_CONSOLE_ENABLED` | `false` | Console logging |
| `FOLIB_LOG_FILE_ENABLED` | `true` | File logging |
| `FOLIB_LOG_FILE_SIZE_SINGLE` | `128MB` | Max size of a single log file |
| `FOLIB_LOG_FILE_SIZE_TOTAL` | `1GB` | Total log size limit |
| `FOLIB_LOG_FILE_HISTORY` | `31` | Log retention days |
| `FOLIB_DEBUG` | `false` | Debug mode |
| `FOLIB_NPM_REMOTE_CHANGES_ENABLED` | `false` | Allow NPM remote changes |
| `FOLIB_NUGET_DOWNLOAD_FEED` | `false` | Enable NuGet download feed |
| `FOLIB_DOWNLOAD_INDEXES` | `false` | Download indexes |
| `FOLIB_REMOTE_DB_HOST` | `127.0.0.1` | Remote DB host |
| `FOLIB_REMOTE_DB_PORT` | `49142` | Remote DB port |
| `FOLIB_REMOTE_DB_USER` | `root` | Remote DB user |
| `FOLIB_REMOTE_DB_PASS` | `folib-cassandra` | Remote DB password |
| `FOLIB_EMBEDDED_DB_HOST` | `127.0.0.1` | Embedded DB host |
| `FOLIB_CASSANDRA_LISTEN_ADDRESS` | `127.0.0.1` | Cassandra listen address |
| `FOLIB_CASSANDRA_SEEDS` | `127.0.0.1` | Cassandra seed nodes |
| `FOLIB_CLUSTER_NODE_TOTAL` | `3` | Total number of cluster nodes |
| `FOLIB_CASSANDRA_GC_GRACE_SECONDS` | `864000` | Cassandra GC grace seconds |
| `FOLIB_JMX_PORT` | `7199` | JMX port |
| `FOLIB_S3_REGION` | `folib` | S3 region |
| `FOLIB_S3_URI` | `s3://localhost:9000/` | S3 endpoint URI |
| `FOLIB_S3_ACCESS_KEY` | `folib` | S3 access key |
| `FOLIB_S3_SECRET_KEY` | `folib` | S3 secret key |
| `FOLIB_ES_HOST` | `127.0.0.1` | Elasticsearch host |
| `FOLIB_PROMOTION_BLOCK` | `false` | Enable automatic promotion blocking |
| `FOLIB_MYSQL_HOST` | `127.0.0.1` | MySQL host |
| `FOLIB_MYSQL_PORT` | `3306` | MySQL port |
| `FOLIB_MYSQL_DB` | `folib_scanner` | MySQL database name |
| `FOLIB_MYSQL_USER` | `root` | MySQL user |
| `FOLIB_MYSQL_PASSWORD` | `199088926` | MySQL password |
| `FOLIB_NVD` | `nvd.folib.com/feeds/json/cve/1.1` | NVD feed base |
| `FOLIB_REDIS_ENABLED` | `false` | Enable Redis |
| `FOLIB_REDIS_HOST` | `127.0.0.1` | Redis host |
| `FOLIB_REDIS_PASSWORD` | `123456` | Redis password |
| `FOLIB_WEB_URL_PREFIX` | `/ui/` | Web UI URL prefix |
| `FOLIB_CACHE_PORT` | `5701` | Hazelcast cache port |
| `FOLIB_CACHE_CLUSTER` | `127.0.0.1:5701` | Hazelcast cluster addresses |
| `FOLIB_SWAGGER_ENABLE` | `false` | Enable Swagger |
| `FOLIB_THREAD_POOL_COMMON_CORE` | `12` | Common pool core threads |
| `FOLIB_THREAD_POOL_COMMON_MAX` | `12` | Common pool max threads |
| `FOLIB_THREAD_POOL_COMMON_QUEUE` | `100000000` | Common pool queue size |
| `FOLIB_THREAD_POOL_SCAN_CORE` | `2` | Scan pool core threads |
| `FOLIB_THREAD_POOL_SCAN_MAX` | `2` | Scan pool max threads |
| `FOLIB_THREAD_POOL_SCAN_QUEUE` | `12` | Scan pool queue size |
| `FOLIB_THREAD_POOL_EVENT_LOG_CORE` | `2` | Event‑log pool core threads |
| `FOLIB_THREAD_POOL_EVENT_LOG_MAX` | `2` | Event‑log pool max threads |
| `FOLIB_THREAD_POOL_EVENT_LOG_QUEUE` | `100` | Event‑log pool queue size |
| `FOLIB_THIRDPARTY_FOEYES_ENABLE` | `false` | Enable FoEyes integration |
| `FOLIB_THIRDPARTY_FOEYES_BASEURL` | `http://127.0.0.1:9527` | FoEyes base URL |
| `FOLIB_THIRDPARTY_FOEYES_ACCESS_KEY` | `racdvMVzV9Wnqu8NAfQkyrsD0a2N0fNE` | FoEyes access key |
| `FOLIB_THREAD_POOL_WORKER` | `6` | Worker threads |
| `FOLIB_GREMLIN_POOL` | `6` | Gremlin pool size |
| `FOLIB_MAX_WORK_QUEUE_SIZE` | `16384` | Max work queue size |
| `FOLIB_MAX_SESSION_TASK_QUEUE_SIZE` | `8192` | Max session task queue size |
| `FOLIB_MAX_CONTENT_LENGTH` | `1048576` | Max content length (bytes) |
| `FOLIB_MAX_CHUNK_SIZE` | `65536` | Max chunk size (bytes) |
| `FOLIB_MAX_ACCUMULATION_BUFFER_COMPONENTS` | `2048` | Max accumulation buffer components |
| `FOLIB_RESULT_ITERATION_BATCH_SIZE` | `256` | Result iteration batch size |
| `FOLIB_USE_EPOLL_EVENT_LOOP` | `true` | Use EPOLL event loop |
| `FOLIB_IDLE_CONNECTION_TIMEOUT` | `30000` | Idle connection timeout (ms) |
| `FOLIB_EVALUATION_TIMEOUT` | `30000` | Evaluation timeout (ms) |
| `FOLIB_WRITE_BUFFER_HIGH_WATER_MARK` | `65536` | Write buffer high‑water mark (bytes) |
| `FOLIB_WRITE_BUFFER_LOW_WATER_MARK` | `32768` | Write buffer low‑water mark (bytes) |
| `FOLIB_ARTIFACT_UPLOAD_RESTRICTIONS` | `false` | Enable artifact upload restrictions |

## How to change parameters (VM)

**Step 1.** Open the start script:

```bash
vim folib-1.0/bin/folib
```

**Step 2.** Edit the variables you need in `folib` (example):

```bash
#!/usr/bin/env bash
## ----- omitted above -----

# REMOTE: Cassandra settings are effective only with db_REMOTE profile
FOLIB_REMOTE_DB_HOST="${FOLIB_REMOTE_DB_HOST:-127.0.0.1}"
FOLIB_REMOTE_DB_PORT="${FOLIB_REMOTE_DB_PORT:-49142}"
FOLIB_REMOTE_DB_USER="${FOLIB_REMOTE_DB_USER:-root}"
FOLIB_REMOTE_DB_PASS="${FOLIB_REMOTE_DB_PASS:-folib-cassandra}"

# JMX
FOLIB_JMX_PORT="${FOLIB_JMX_PORT:-7199}"

# If S3 storage is used (default is local NFS)
FOLIB_S3_REGION="${FOLIB_S3_REGION:-folib}"
FOLIB_S3_URI="${FOLIB_S3_URI:-s3://localhost:9000/}"
FOLIB_S3_ACCESS_KEY="${FOLIB_S3_ACCESS_KEY:-folib}"
FOLIB_S3_SECRET_KEY="${FOLIB_S3_SECRET_KEY:-folib}"

## Elasticsearch node for graph DB indexes
FOLIB_ES_HOST="${FOLIB_ES_HOST:-10.50.8.55}"

## Scanner settings
FOLIB_MYSQL_HOST="${FOLIB_MYSQL_HOST:-10.10.0.1}"  # DB address
FOLIB_MYSQL_PORT="${FOLIB_MYSQL_PORT:-3306}"        # DB port
FOLIB_MYSQL_DB="${FOLIB_MYSQL_DB:-folib}"           # DB name
FOLIB_MYSQL_USER="${FOLIB_MYSQL_USER:-root}"        # DB user
FOLIB_MYSQL_PASSWORD="${FOLIB_MYSQL_PASSWORD:-password}"  # DB password
FOLIB_NVD="${FOLIB_NVD:-nvd.folib.com}"             # internal NVD mirror if used

## ----- omitted below -----
```
